import pickle
import numpy as np
import pandas as pd
from pycaret.regression import load_model, predict_model

data = {'id': 653346, 'budget': 160000000, 'homepage': 'https://www.20thcenturystudios.com/movies/kingdom-of-the-planet-of-the-apes', 'imdb_id': 'tt11389872', 'original_language': 1, 'movie_title': 'Kingdom of the Planet of the Apes', 'overview': "Several generations in the future following Caesar's reign, apes are now the dominant species and live harmoniously while humans have been reduced to living in the shadows. As a new tyrannical ape leader builds his empire, one young ape undertakes a harrowing journey that will cause him to question all that he has known about the past and to make choices that will define a future for apes and humans alike.", 'popularity': 6245.898, 'poster_path': '/gKkl37BQuKTanygYQG1pyYgLVgf.jpg', 'production_companies': '20th Century Studios, Oddball Entertainment, Jason T. Reed Productions', 'runtime': 145, 'status': 1, 'tagline': 'No one can stop the reign.', 'title': 'Kingdom of the Planet of the Apes', 'keywords': 'empire, kingdom, gorilla, dystopia, eagle, sequel, anthropomorphism, distant future, ape, orangutan, evolution, chimpanzee, primate, sign languages, journey, cgi-live action hybrid, clan, post-apocalyptic, evil tyrant, bold', 'cast': "Owen Teague, Freya Allan, Kevin Durand, Peter Macon, William H. Macy, Eka Darville, Travis Jeffery, Lydia Peckham, Neil Sandilands, Ras-Samuel Welda'abzgi, Sara Wiseman, Kaden Hartcher, Andy McPhee, Nina Gallas, Samuel Falé, Dichen Lachman, Virginie Laverdure, Markus Hamilton, Benjamin Scott, Nirish Bhat Surambadka, Frances Berry, Peter Hayes, Sheree da Costa, Souleymane Diasse, Olga Miller, Dmitriy Miller, Anastasia Miller, Michael Spudic, Karin Konoval", 'crew': 'Wes Ball, Joe Hartwick Jr., Peter Chernin, Rick Jaffa, Amanda Silver, Jason Reed, Jenno Topping, Daniel T. Dorrance, Gyula Pados, Dan Zimmerman, Mayes C. Rubeo, Rick Jaffa, Amanda Silver, Wes Ball, Erik Winquist, John Paesano, Dirk Westervelt, Josh Friedman, Julia Neighly, Patrick Neighly, Debra Zane, Dylan Jury, Jennifer Cornwell, Justin Muller, Jon Mallard, Glenn Suter', 'revenue': 359039904.0, 'release_year': 2024, 'release_month': 5, 'release_day': 8, 'Action': 1, 'Music': 0, 'Western': 0, 'Fantasy': 0, 'Adventure': 1, 'Animation': 0, 'Comedy': 0, 'Family': 0, 'History': 0, 'Horror': 0, 'Thriller': 0, 'Crime': 0, 'TV Movie': 0, 'Drama': 0, 'Science Fiction': 1, 'Mystery': 0, 'Romance': 0, 'Documentary': 0, 'War': 0, 'Afrikaans': 0, 'Bahasa indonesia': 0, 'Bahasa melayu': 0, 'Bosanski': 0, 'Català': 0, 'Cymraeg': 0, 'Dansk': 0, 'Deutsch': 0, 'Eesti': 0, 'English': 1, 'Español': 0, 'Esperanto': 0, 'Français': 0, 'Fulfulde': 0, 'Gaeilge': 0, 'Hrvatski': 0, 'Italiano': 0, 'Kiswahili': 0, 'Latin': 0, 'Lietuvių': 0, 'Magyar': 0, 'Nederlands': 0, 'No Language': 0, 'Norsk': 0, 'Polski': 0, 'Português': 0, 'Pусский': 0, 'Română': 0, 'Slovenčina': 0, 'Somali': 0, 'Srpski': 0, 'Tiếng Việt': 0, 'Türkçe': 0, '[]': 0, 'euskera': 0, 'isiZulu': 0, 'shqip': 0, 'suomi': 0, 'svenska': 0, 'Íslenska': 0, 'Český': 0, 'ελληνικά': 0, 'Український': 0, 'български език': 0, 'עִבְרִית': 0, 'اردو': 0, 'العربية': 0, 'فارسی': 0, 'پښتو': 0, 'हिन्दी': 0, 'বাংলা': 0, 'ਪੰਜਾਬੀ': 0, 'தமிழ்': 0, 'සිංහල': 0, 'ภาษาไทย': 0, 'ქართული': 0, '广州话 / 廣州話': 0, '日本語': 0, '普通话': 0, '한국어/조선말': 0, 'Aruba': 0, 'Australia': 0, 'Austria': 0, 'Bahamas': 0, 'Belgium': 0, 'Botswana': 0, 'Brazil': 0, 'Bulgaria': 0, 'Canada': 0, 'Chile': 0, 'China': 0, 'Colombia': 0, 'Cyprus': 0, 'Czech Republic': 0, 'Denmark': 0, 'Dominican Republic': 0, 'Finland': 0, 'France': 0, 'Germany': 0, 'Greece': 0, 'Hong Kong': 0, 'Hungary': 0, 'Iceland': 0, 'India': 0, 'Indonesia': 0, 'Ireland': 0, 'Israel': 0, 'Italy': 0, 'Jamaica': 0, 'Japan': 0, 'Kenya': 0, 'Kuwait': 0, 'Lebanon': 0, 'Libyan Arab Jamahiriya': 0, 'Luxembourg': 0, 'Malaysia': 0, 'Malta': 0, 'Mexico': 0, 'Montenegro': 0, 'Morocco': 0, 'Netherlands': 0, 'New Zealand': 0, 'Norway': 0, 'Peru': 0, 'Poland': 0, 'Portugal': 0, 'Puerto Rico': 0, 'Romania': 0, 'Russia': 0, 'Saudi Arabia': 0, 'Serbia': 0, 'Singapore': 0, 'Slovakia': 0, 'Slovenia': 0, 'South Africa': 0, 'South Korea': 0, 'Soviet Union': 0, 'Spain': 0, 'Sweden': 0, 'Switzerland': 0, 'Taiwan': 0, 'Thailand': 0, 'Turkey': 0, 'Ukraine': 0, 'United Arab Emirates': 0, 'United Kingdom': 0, 'United States of America': 1, 'Venezuela': 0, 'Zimbabwe': 0, 'Jordan': 0, 'Palestinian Territory': 0, 'Unnamed: 0': 0, 'Yugoslavia': 0, 'Albania': 0, 'Malti': 0, 'Nigeria': 0, 'Tunisia': 0, 'Unnamed: 131': 0, 'Qatar': 0, 'Namibia': 0, 'Macao': 0}

data_df = pd.DataFrame([data])
loaded_model = load_model('tuned_elastic_net')

new_prediction = predict_model(loaded_model, data=data_df)
print(new_prediction)